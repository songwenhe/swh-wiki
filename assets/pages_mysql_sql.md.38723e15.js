import{_ as s,c as a,o as l,Q as n}from"./chunks/framework.8dca3095.js";const h=JSON.parse('{"title":"sql","description":"","frontmatter":{"title":"sql","order":3},"headers":[],"relativePath":"pages/mysql/sql.md","lastUpdated":1681724041000}'),o={name:"pages/mysql/sql.md"},e=n(`<h2 id="sql-命令" tabindex="-1">SQL 命令 <a class="header-anchor" href="#sql-命令" aria-label="Permalink to &quot;SQL 命令&quot;">​</a></h2><h3 id="ddl-操作数据库、表" tabindex="-1">DDL（操作数据库、表） <a class="header-anchor" href="#ddl-操作数据库、表" aria-label="Permalink to &quot;DDL（操作数据库、表）&quot;">​</a></h3><h4 id="操作数据库" tabindex="-1">操作数据库 <a class="header-anchor" href="#操作数据库" aria-label="Permalink to &quot;操作数据库&quot;">​</a></h4><h5 id="创建数据库" tabindex="-1">创建数据库 <a class="header-anchor" href="#创建数据库" aria-label="Permalink to &quot;创建数据库&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">database</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">数据库名</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">database</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">not</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">exists</span><span style="color:#A6ACCD;"> 数据库名称; #判断不存在，再创建</span></span>
<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">database</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">数据库名称</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">character</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> 字符集名; #创建数据库，并指定字符集</span></span></code></pre></div><h5 id="查询数据库" tabindex="-1">查询数据库 <a class="header-anchor" href="#查询数据库" aria-label="Permalink to &quot;查询数据库&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">show databases;</span></span>
<span class="line"><span style="color:#A6ACCD;">show </span><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">database</span><span style="color:#A6ACCD;"> 数据库名称; #查询某个数据库的创建语句</span></span></code></pre></div><h5 id="修改数据库" tabindex="-1">修改数据库 <a class="header-anchor" href="#修改数据库" aria-label="Permalink to &quot;修改数据库&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">database</span><span style="color:#A6ACCD;"> 数据库名称 </span><span style="color:#F78C6C;">character</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> 字符集名称; #修改数据库的字符集</span></span></code></pre></div><h5 id="删除数据库" tabindex="-1">删除数据库 <a class="header-anchor" href="#删除数据库" aria-label="Permalink to &quot;删除数据库&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">drop</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">database</span><span style="color:#A6ACCD;"> 数据库名;</span></span>
<span class="line"><span style="color:#F78C6C;">drop</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">database</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">exists</span><span style="color:#A6ACCD;"> 数据库名称; #判断数据库存在，存在再删除</span></span></code></pre></div><h5 id="使用数据库" tabindex="-1">使用数据库 <a class="header-anchor" href="#使用数据库" aria-label="Permalink to &quot;使用数据库&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">database</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">; #查询当前正在使用的数据库名称</span></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#A6ACCD;"> 数据库名; #使用数据库</span></span></code></pre></div><h4 id="操作表" tabindex="-1">操作表 <a class="header-anchor" href="#操作表" aria-label="Permalink to &quot;操作表&quot;">​</a></h4><h5 id="创建表" tabindex="-1">创建表 <a class="header-anchor" href="#创建表" aria-label="Permalink to &quot;创建表&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">user</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">列名 数据类型,</span></span>
<span class="line"><span style="color:#A6ACCD;">id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">11</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;"> auto_increment,</span></span>
<span class="line"><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">),</span></span>
<span class="line"><span style="color:#C792EA;">primary key</span><span style="color:#A6ACCD;">(id)</span></span>
<span class="line"><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tab</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">like</span><span style="color:#A6ACCD;"> user; </span><span style="color:#676E95;font-style:italic;">-- 复制user表的表结构到tab并创建</span></span></code></pre></div><h5 id="复制表" tabindex="-1">复制表 <a class="header-anchor" href="#复制表" aria-label="Permalink to &quot;复制表&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">表名</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">like</span><span style="color:#A6ACCD;"> 被复制的表名;</span></span></code></pre></div><h5 id="查询表" tabindex="-1">查询表 <a class="header-anchor" href="#查询表" aria-label="Permalink to &quot;查询表&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">show tables;</span></span>
<span class="line"><span style="color:#F78C6C;">desc</span><span style="color:#A6ACCD;"> 表名; #查询表结构</span></span></code></pre></div><h5 id="修改表" tabindex="-1">修改表 <a class="header-anchor" href="#修改表" aria-label="Permalink to &quot;修改表&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> 表名 rename </span><span style="color:#F78C6C;">to</span><span style="color:#A6ACCD;"> 新的表名; #修改表名</span></span>
<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> 表名 </span><span style="color:#F78C6C;">character</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> 字符集名称; #修改表的字符集</span></span>
<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> 表名 </span><span style="color:#F78C6C;">add</span><span style="color:#A6ACCD;"> 列名 数据类型; #添加一个列</span></span>
<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> 表名 change 列名 新列名 新数据类型; #修改列名称</span></span>
<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> 表名 </span><span style="color:#F78C6C;">modify</span><span style="color:#A6ACCD;"> 列名 新数据类型; #修改列数据类型</span></span>
<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> 表名 </span><span style="color:#F78C6C;">drop</span><span style="color:#A6ACCD;"> 列名; #删除列</span></span></code></pre></div><h5 id="删除表" tabindex="-1">删除表 <a class="header-anchor" href="#删除表" aria-label="Permalink to &quot;删除表&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">drop</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> 表名;</span></span>
<span class="line"><span style="color:#F78C6C;">drop</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">exists</span><span style="color:#A6ACCD;"> 表名 ;</span></span></code></pre></div><h3 id="dml-增删改表中数据" tabindex="-1">DML(增删改表中数据) <a class="header-anchor" href="#dml-增删改表中数据" aria-label="Permalink to &quot;DML(增删改表中数据)&quot;">​</a></h3><h4 id="插入数据" tabindex="-1">插入数据 <a class="header-anchor" href="#插入数据" aria-label="Permalink to &quot;插入数据&quot;">​</a></h4><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> user (username, </span><span style="color:#F78C6C;">password</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">swh</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">swh123</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><h4 id="删除数据" tabindex="-1">删除数据 <a class="header-anchor" href="#删除数据" aria-label="Permalink to &quot;删除数据&quot;">​</a></h4><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> 表名 </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> [条件];</span></span>
<span class="line"><span style="color:#F78C6C;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> user </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> id </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">; #删除id为2的记录</span></span>
<span class="line"><span style="color:#F78C6C;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> 表名; #不推荐使用。有多少条记录就会执行多少次删除操作</span></span>
<span class="line"><span style="color:#F78C6C;">TRUNCATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> 表名; #推荐使用，效率更高 先删除表，然后再创建一张一样的表。</span></span></code></pre></div><h4 id="修改数据" tabindex="-1">修改数据 <a class="header-anchor" href="#修改数据" aria-label="Permalink to &quot;修改数据&quot;">​</a></h4><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;"> 表名称 </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> 列名 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> 值  </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> 列名称 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> 值</span></span>
<span class="line"><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;"> user </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">password</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> id</span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">; #更新大于等于2的记录</span></span></code></pre></div><h3 id="dql-查询表中的记录" tabindex="-1">DQL(查询表中的记录) <a class="header-anchor" href="#dql-查询表中的记录" aria-label="Permalink to &quot;DQL(查询表中的记录)&quot;">​</a></h3><h4 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-label="Permalink to &quot;语法&quot;">​</a></h4><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> 字段列表 </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> 表名列表</span></span>
<span class="line"><span style="color:#F78C6C;">where</span></span>
<span class="line"><span style="color:#A6ACCD;">    条件列表</span></span>
<span class="line"><span style="color:#F78C6C;">group by</span></span>
<span class="line"><span style="color:#A6ACCD;">    分组字段</span></span>
<span class="line"><span style="color:#F78C6C;">having</span></span>
<span class="line"><span style="color:#A6ACCD;">    分组之后的条件</span></span>
<span class="line"><span style="color:#F78C6C;">order by</span></span>
<span class="line"><span style="color:#A6ACCD;">    排序</span></span>
<span class="line"><span style="color:#F78C6C;">limit</span></span>
<span class="line"><span style="color:#A6ACCD;">    分页限定</span></span></code></pre></div><h4 id="基础查询" tabindex="-1">基础查询 <a class="header-anchor" href="#基础查询" aria-label="Permalink to &quot;基础查询&quot;">​</a></h4><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> user;</span><span style="color:#89DDFF;">//</span><span style="color:#A6ACCD;">查询全部字段</span></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> username,</span><span style="color:#F78C6C;">password</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> user </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> id</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">;</span><span style="color:#89DDFF;">//</span><span style="color:#A6ACCD;">查询指定字段</span></span></code></pre></div><h4 id="distinct-去除重复" tabindex="-1">distinct 去除重复 <a class="header-anchor" href="#distinct-去除重复" aria-label="Permalink to &quot;distinct 去除重复&quot;">​</a></h4><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select distinct</span><span style="color:#A6ACCD;"> 列 </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> user;</span></span>
<span class="line"><span style="color:#F78C6C;">select distinct</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">password</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> user; #返回不重复的密码</span></span></code></pre></div><h4 id="as" tabindex="-1">AS <a class="header-anchor" href="#as" aria-label="Permalink to &quot;AS&quot;">​</a></h4><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,(chinese</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">english</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">math) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> total_score </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student; #将成绩总和加起来并命名为total_score</span></span></code></pre></div><h4 id="where" tabindex="-1">where <a class="header-anchor" href="#where" aria-label="Permalink to &quot;where&quot;">​</a></h4><p>在 where 语句中经常使用的运算符</p><h4 id="比较运算符" tabindex="-1">比较运算符 <a class="header-anchor" href="#比较运算符" aria-label="Permalink to &quot;比较运算符&quot;">​</a></h4><table><thead><tr><th>&gt; &lt; &lt;= &gt;= = &lt;&gt; !=</th><th>大于、小于、大于（小于）等于、&lt;&gt; !=都是不等于</th></tr></thead><tbody><tr><td>BENTWEEN ... AND ...</td><td>显示某一区间的值，闭区间</td></tr><tr><td>IN(set)</td><td>显示在 in 列表中的值，例：in(100,200)</td></tr><tr><td>LIKE &#39;宋%&#39;<br>NOT LIKE &#39;&#39;</td><td>模糊查询。<br>&quot;%&quot; 百分号通配符: 表示任何字符出现任意次数 (可以是 0 次)。<br>&quot;_&quot; 下划线通配符:表示只能匹配单个字符,不能多也不能少,就是一个字符。当然，也可以 like &quot;陈____&quot;，数量不限。</td></tr><tr><td>IS NULL</td><td>判断是否为空</td></tr></tbody></table><h4 id="逻辑运算符" tabindex="-1">逻辑运算符 <a class="header-anchor" href="#逻辑运算符" aria-label="Permalink to &quot;逻辑运算符&quot;">​</a></h4><table><thead><tr><th>and</th><th>多个条件同时成立</th></tr></thead><tbody><tr><td>or</td><td>多个条件任一成立</td></tr><tr><td>not</td><td>不成立，例：where not(salary&gt;100);</td></tr></tbody></table><h4 id="order-by" tabindex="-1">order by <a class="header-anchor" href="#order-by" aria-label="Permalink to &quot;order by&quot;">​</a></h4><p>order by 指定排序的列，排序的列既可以是表中的列名，也可以是 select 语句后指定的列名。</p><p>asc 升序（默认），desc 降序。</p><p>order by 语句应位于 select 语句的结尾，遵从先查询在排序，最后分页。</p><h4 id="合计-统计函数" tabindex="-1">合计/统计函数 <a class="header-anchor" href="#合计-统计函数" aria-label="Permalink to &quot;合计/统计函数&quot;">​</a></h4><h5 id="count" tabindex="-1">count <a class="header-anchor" href="#count" aria-label="Permalink to &quot;count&quot;">​</a></h5><p>count(*)和 count(列)的区别</p><p>count(*)返回满足条件的记录的行数</p><p>count(列)返回满足条件的某列有多少个，但是会排除为 null 的情况</p><h5 id="sum" tabindex="-1">sum <a class="header-anchor" href="#sum" aria-label="Permalink to &quot;sum&quot;">​</a></h5><p>sum 函数返回满足 where 条件的行的和，一般使用在数值列</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sum</span><span style="color:#A6ACCD;">(列名),</span><span style="color:#82AAFF;">sum</span><span style="color:#A6ACCD;">(列名),</span><span style="color:#82AAFF;">sum</span><span style="color:#A6ACCD;">(列名) </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> [where条件]</span></span></code></pre></div><h5 id="avg" tabindex="-1">avg <a class="header-anchor" href="#avg" aria-label="Permalink to &quot;avg&quot;">​</a></h5><p>avg 函数返回满足 where 条件的行的平均值，一般使用在数值列</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">avg</span><span style="color:#A6ACCD;">(列名),</span><span style="color:#82AAFF;">avg</span><span style="color:#A6ACCD;">(列名),</span><span style="color:#82AAFF;">avg</span><span style="color:#A6ACCD;">(列名) </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> [where条件]</span></span></code></pre></div><h5 id="max-min" tabindex="-1">max/min <a class="header-anchor" href="#max-min" aria-label="Permalink to &quot;max/min&quot;">​</a></h5><p>max/min 函数返回满足 where 条件的行的最大值和最小值，一般使用在数值列</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">max</span><span style="color:#A6ACCD;">(列名),</span><span style="color:#82AAFF;">max</span><span style="color:#A6ACCD;">(列名),</span><span style="color:#82AAFF;">max</span><span style="color:#A6ACCD;">(列名) </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> [where条件]</span></span></code></pre></div><h4 id="group-by-和-having" tabindex="-1">group by 和 having <a class="header-anchor" href="#group-by-和-having" aria-label="Permalink to &quot;group by 和 having&quot;">​</a></h4><p>使用 group by 子句对列进行分组查询，使用 having 子句对分组后的结果进行过滤。</p><p>查询每个部门的平均工资和最高工资</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">avg</span><span style="color:#A6ACCD;">(sal),</span><span style="color:#82AAFF;">max</span><span style="color:#A6ACCD;">(sal),depno </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> emp </span><span style="color:#F78C6C;">GROUP BY</span><span style="color:#A6ACCD;"> depno;</span></span></code></pre></div><p>查询每个部门的每种岗位的平均工资和最低工资</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">avg</span><span style="color:#A6ACCD;">(sal),</span><span style="color:#82AAFF;">min</span><span style="color:#A6ACCD;">(sal),depno,job </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> emp </span><span style="color:#F78C6C;">GROUP BY</span><span style="color:#A6ACCD;"> depno,job;</span></span></code></pre></div><p>查询平均工资低于 2000 的部门好和它的平均工资</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">avg</span><span style="color:#A6ACCD;">(sal),depno </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> emp </span><span style="color:#F78C6C;">GROUP BY</span><span style="color:#A6ACCD;"> depno </span><span style="color:#F78C6C;">having</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">avg</span><span style="color:#A6ACCD;">(sal)</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">avg</span><span style="color:#A6ACCD;">(sal) </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> avg_sal,depno </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> emp </span><span style="color:#F78C6C;">GROUP BY</span><span style="color:#A6ACCD;"> depno </span><span style="color:#F78C6C;">having</span><span style="color:#A6ACCD;"> avg_sal</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">;</span></span></code></pre></div><h4 id="字符串的相关函数" tabindex="-1">字符串的相关函数 <a class="header-anchor" href="#字符串的相关函数" aria-label="Permalink to &quot;字符串的相关函数&quot;">​</a></h4><table><thead><tr><th>charset(str)</th><th>返回字符串字符集</th></tr></thead><tbody><tr><td>concat(string2 string2)</td><td>连接字串，返回字串</td></tr><tr><td>instr(string,substring)</td><td>返回 substring 在 string 中出现的位置，没有返回 0</td></tr><tr><td>ucase(string)</td><td>转换成大写</td></tr><tr><td>lcase(string)</td><td>转换成小写</td></tr><tr><td>left(string,length)<br>right(string,length)</td><td>从 string 中的左边（右边）起取 length 个字符</td></tr><tr><td>length(string)</td><td>返回 string 长度【按照字节】</td></tr><tr><td>replace(str,search_str,replace_str)</td><td>在 str 中用 replace_str 替换 search_str</td></tr><tr><td>strcmp(string1,string2)</td><td>逐字符比较两字符串的大小</td></tr><tr><td>substring(str,position,[length])</td><td>从 str 的 postion 开始【从 1 开始计算】，取 length 个字符，length 不写就是取全部</td></tr><tr><td>ltrim(string)<br>rtrim(string)<br>trim(string)</td><td>去除前端空格<br>去除后端空格<br>去左右两端的</td></tr></tbody></table><h4 id="数学相关函数" tabindex="-1">数学相关函数 <a class="header-anchor" href="#数学相关函数" aria-label="Permalink to &quot;数学相关函数&quot;">​</a></h4><table><thead><tr><th>ABS(num)</th><th>绝对值</th></tr></thead><tbody><tr><td>BIN(decimal_number)</td><td>十进制转二进制</td></tr><tr><td>CEILING(number)</td><td>向上取整，得到比 num 大的最小整数</td></tr><tr><td>FLOOR(number,decimal_places)</td><td>向下取整，得到比 num 小的最大整数</td></tr><tr><td>CONV(number2,from_base,to_base)</td><td>进制转换</td></tr><tr><td>FORMAT(number,decimal_places)</td><td>保留小数位数，四舍五入</td></tr><tr><td>HEX(DecimalNumber)</td><td>转十六进制</td></tr><tr><td>LEAST(number,number2,...)</td><td>求最小值</td></tr><tr><td>MOD(numerator,denominator)</td><td>求余</td></tr><tr><td>RAND(seed)</td><td>RAND()返回随机数，其范围为 0&lt;=v&lt;=1.0，如果 seed 不变，该随机数也不变</td></tr></tbody></table><h4 id="日期相关函数" tabindex="-1">日期相关函数 <a class="header-anchor" href="#日期相关函数" aria-label="Permalink to &quot;日期相关函数&quot;">​</a></h4><table><thead><tr><th>CURRENT_DATE()</th><th>当前日期</th></tr></thead><tbody><tr><td>CURRENT_TIME</td><td>当前时间</td></tr><tr><td>CURRENT_TIMESTAMP</td><td>当前时间戳</td></tr><tr><td>DATE(datetime)</td><td>返回 datetime 的日期部分</td></tr><tr><td>DATE_ADD(date,INTERVAL d_value d_type)</td><td>在 date 中加上日期或时间</td></tr><tr><td>DATE_SUB(date,INTERVAL d_value d_type)</td><td>在 date 上减去一个时间</td></tr><tr><td>DATEDIFF(date1,date2)</td><td>两个日期差（结果是天）</td></tr><tr><td>TIMEDIFF(date1,date2)</td><td>两个时间差（结果是时 分 秒）</td></tr><tr><td>NOW()</td><td>当前时间</td></tr><tr><td>YEAR|Month|DATE(datetime)</td><td>返回时间的年月 日</td></tr><tr><td>FROM_UNIXTIME()</td><td>可以把一个时间戳转成一个指定格式的日期</td></tr><tr><td>UNIX_TIMESTAMP()</td><td>返回时间戳，不写参数返回 1970-1-1 到现在的毫秒数</td></tr></tbody></table><h4 id="加密和系统函数" tabindex="-1">加密和系统函数 <a class="header-anchor" href="#加密和系统函数" aria-label="Permalink to &quot;加密和系统函数&quot;">​</a></h4><table><thead><tr><th>USER()</th><th>查询用户</th></tr></thead><tbody><tr><td>DATABASE()</td><td>数据库名称</td></tr><tr><td>MD5(str)</td><td>为字符串算出一个 MD5 32 位的字符串，（用户密码）加密</td></tr><tr><td>PASSWORD(str)</td><td>从原文密码 str 计算并返回密码字符串，通常用于对 mysql 数据库的用户密码加密，8.0 过后取消了</td></tr></tbody></table><h4 id="流程控制函数" tabindex="-1">流程控制函数 <a class="header-anchor" href="#流程控制函数" aria-label="Permalink to &quot;流程控制函数&quot;">​</a></h4><table><thead><tr><th>IF(expr1,expr2,expr3)</th><th>如果 expr1 为 true ，则返回 expr2，否则返回 expr3</th></tr></thead><tbody><tr><td>IFNULL(expr1,expr2)</td><td>如果 expr1 不为空 ，则返回 expr1，否则返回 expr2</td></tr><tr><td>SELECT CASE <br>WHEN expr1 THEN expr2 <br>WHEN expr3 THEN expr4 <br>ELSE expr5 <br>END;</td><td>如果 expr1 为 true ，则返回 expr2，<br>如果 expr3 为位 true ，则返回 expr4，<br>否则返回 expr35</td></tr></tbody></table><h4 id="分页查询" tabindex="-1">分页查询 <a class="header-anchor" href="#分页查询" aria-label="Permalink to &quot;分页查询&quot;">​</a></h4><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> ... </span><span style="color:#F78C6C;">limit</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rows</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">(第几页</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">),</span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">-- 表示从rows*(第几页-1)行开始取，取出rows行，rows表示每页显示记录数</span></span></code></pre></div><h4 id="多表查询" tabindex="-1">多表查询 <a class="header-anchor" href="#多表查询" aria-label="Permalink to &quot;多表查询&quot;">​</a></h4><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> table1,table2;</span></span></code></pre></div><p>默认情况下：当两个表同时查询时，规则</p><p>1.从第一张表中，取出一行和第二张表的每一行进行组合，返回结果【含有两张表的所有列】</p><p>2.一共返回的记录数：第一张表行数*第二张表行数</p><p>3.这样多表查询默认处理返回的结果，称为笛卡尔积</p><p>4.解决这个多表的关键就是要写出正确的过滤条件 where table1.column = table2.column 列名要一样</p><p>5.多表查询的条件不能少于 表的个数-1，否则会出现笛卡尔积</p><h5 id="自连接查询" tabindex="-1">自连接查询 <a class="header-anchor" href="#自连接查询" aria-label="Permalink to &quot;自连接查询&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> worker.ename </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">员工</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, boss.ename </span><span style="color:#F78C6C;">AS</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">上级</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> emp worker,emp boss </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> worker.mgr</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">boss.empno;</span></span></code></pre></div><p>1.把同一张表当成两张表使用</p><p>2.需要给表取别名 表明 表别名</p><h5 id="子查询" tabindex="-1">子查询 <a class="header-anchor" href="#子查询" aria-label="Permalink to &quot;子查询&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> emp </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> deptno </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> deptno </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> emp </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> ename </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">SMITH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) #单行子查询</span></span></code></pre></div><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> ename,job,sal,deptno </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> emp </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> job </span><span style="color:#F78C6C;">IN</span><span style="color:#A6ACCD;"> (</span><span style="color:#F78C6C;">SELECT DISTINCT</span><span style="color:#A6ACCD;"> job </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> emp </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> deptno </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">AND</span><span style="color:#A6ACCD;"> deptno </span><span style="color:#89DDFF;">&lt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">; #多行子查询</span></span></code></pre></div><h5 id="临时表" tabindex="-1">临时表 <a class="header-anchor" href="#临时表" aria-label="Permalink to &quot;临时表&quot;">​</a></h5><p>ALL 和 ANY</p><h5 id="去重" tabindex="-1">去重 <a class="header-anchor" href="#去重" aria-label="Permalink to &quot;去重&quot;">​</a></h5><h5 id="合并查询" tabindex="-1">合并查询 <a class="header-anchor" href="#合并查询" aria-label="Permalink to &quot;合并查询&quot;">​</a></h5><p>unino，unino all</p><h5 id="外连接" tabindex="-1">外连接 <a class="header-anchor" href="#外连接" aria-label="Permalink to &quot;外连接&quot;">​</a></h5><p>左外连接，即使左边表没有匹配到相应的值也会完全显示</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> .. </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> table1 </span><span style="color:#F78C6C;">left join</span><span style="color:#A6ACCD;"> table2 </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> 条件; </span><span style="color:#676E95;font-style:italic;">-- table1是左表，table2是右表</span></span></code></pre></div><p>右外连接，即使右边表没有匹配到相应的值也会完全显示</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> .. </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> table1 </span><span style="color:#F78C6C;">right join</span><span style="color:#A6ACCD;"> table2 </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> 条件; </span><span style="color:#676E95;font-style:italic;">-- table1是左表，table2是右表</span></span></code></pre></div><h3 id="dcl-管理用户-授权" tabindex="-1">DCL（管理用户，授权） <a class="header-anchor" href="#dcl-管理用户-授权" aria-label="Permalink to &quot;DCL（管理用户，授权）&quot;">​</a></h3><h4 id="管理用户" tabindex="-1">管理用户 <a class="header-anchor" href="#管理用户" aria-label="Permalink to &quot;管理用户&quot;">​</a></h4><h5 id="添加用户" tabindex="-1">添加用户 <a class="header-anchor" href="#添加用户" aria-label="Permalink to &quot;添加用户&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">USER</span><span style="color:#A6ACCD;"> &#39;</span><span style="color:#82AAFF;">用户名</span><span style="color:#A6ACCD;">&#39;@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">主机名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> IDENTIFIED </span><span style="color:#F78C6C;">BY</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">密码</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span></code></pre></div><h5 id="删除用户" tabindex="-1">删除用户 <a class="header-anchor" href="#删除用户" aria-label="Permalink to &quot;删除用户&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">DROP</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">USER</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">用户名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">主机名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span></code></pre></div><h5 id="修改用户密码" tabindex="-1">修改用户密码 <a class="header-anchor" href="#修改用户密码" aria-label="Permalink to &quot;修改用户密码&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">UPDATE</span><span style="color:#A6ACCD;"> USER </span><span style="color:#F78C6C;">SET</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">PASSWORD</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">PASSWORD</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">新密码</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> USER </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">用户名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#F78C6C;">UPDATE</span><span style="color:#A6ACCD;"> USER </span><span style="color:#F78C6C;">SET</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">PASSWORD</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">PASSWORD</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> USER </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lisi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">SET</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">PASSWORD</span><span style="color:#A6ACCD;"> FOR </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">用户名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">主机名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">PASSWORD</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">新密码</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#F78C6C;">SET</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">PASSWORD</span><span style="color:#A6ACCD;"> FOR </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">PASSWORD</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><h5 id="查询用户" tabindex="-1">查询用户 <a class="header-anchor" href="#查询用户" aria-label="Permalink to &quot;查询用户&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">USE</span><span style="color:#A6ACCD;"> myql; #切换到mysql数据库</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> USER; #查询user表</span></span></code></pre></div><h4 id="权限管理" tabindex="-1">权限管理 <a class="header-anchor" href="#权限管理" aria-label="Permalink to &quot;权限管理&quot;">​</a></h4><h5 id="查询权限" tabindex="-1">查询权限 <a class="header-anchor" href="#查询权限" aria-label="Permalink to &quot;查询权限&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">SHOW GRANTS FOR </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">用户名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">主机名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span></code></pre></div><h5 id="授予权限" tabindex="-1">授予权限 <a class="header-anchor" href="#授予权限" aria-label="Permalink to &quot;授予权限&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">grant</span><span style="color:#A6ACCD;"> 权限列表 </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> 数据库名.表名 </span><span style="color:#F78C6C;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">用户名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">主机名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#F78C6C;">GRANT</span><span style="color:#A6ACCD;"> ALL </span><span style="color:#F78C6C;">ON</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">.</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TO</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zhangsan</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">; #给张三用户授予所有权限，在任意数据库任意表上</span></span></code></pre></div><h5 id="撤销权限" tabindex="-1">撤销权限 <a class="header-anchor" href="#撤销权限" aria-label="Permalink to &quot;撤销权限&quot;">​</a></h5><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">revoke</span><span style="color:#A6ACCD;"> 权限列表 </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> 数据库名.表名 </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">用户名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">主机名</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#F78C6C;">REVOKE</span><span style="color:#A6ACCD;"> ALL </span><span style="color:#F78C6C;">ON</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">.</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zhangsan</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">; #给张三用户撤销所有权限，在任意数据库任意表上</span></span></code></pre></div><h2 id="sql-列类型" tabindex="-1">SQL 列类型 <a class="header-anchor" href="#sql-列类型" aria-label="Permalink to &quot;SQL 列类型&quot;">​</a></h2><h3 id="数值类型" tabindex="-1">数值类型 <a class="header-anchor" href="#数值类型" aria-label="Permalink to &quot;数值类型&quot;">​</a></h3><h4 id="整形" tabindex="-1">整形 <a class="header-anchor" href="#整形" aria-label="Permalink to &quot;整形&quot;">​</a></h4><p>tinyint [1 个字节]</p><p>smalllint[2 个字节]</p><p>mediumint[3 个字节]</p><p>int[4 个字节]</p><p>bigint[8 个字节]</p><h4 id="小数类型" tabindex="-1">小数类型 <a class="header-anchor" href="#小数类型" aria-label="Permalink to &quot;小数类型&quot;">​</a></h4><p>float[单精度 4 个字节]</p><p>double[双精度 8 个字节]</p><p>decimal[M,D] #可以支持更加精确的小数位，M 是小数位（精度）的总数，D 是小数点（标度）后面的位数。M 最大 65，D 最大 30。如果 D 被省略，默认是 0。如果 M 被省略，默认是 10。</p><h3 id="文本类型-字符串类型" tabindex="-1">文本类型（字符串类型） <a class="header-anchor" href="#文本类型-字符串类型" aria-label="Permalink to &quot;文本类型（字符串类型）&quot;">​</a></h3><p>char 0-255 表示的是字符 不区分字母还是汉字，固定长度，可能造成资源浪费。</p><p>varchar 0-65535[0~2^16-1] 变长，节约资源。但是 varchar 本身还需要占用 1-3 个字节来记录存放内容长度</p><p>text 0~2^16-1</p><p>longtext 0-2^32-1</p><h3 id="二进制数据类型" tabindex="-1">二进制数据类型 <a class="header-anchor" href="#二进制数据类型" aria-label="Permalink to &quot;二进制数据类型&quot;">​</a></h3><p>blob [0-2^16-1]</p><p>longblob [0~2^32-1]</p><h3 id="位类型-bit" tabindex="-1">位类型（bit） <a class="header-anchor" href="#位类型-bit" aria-label="Permalink to &quot;位类型（bit）&quot;">​</a></h3><p>bit(m) m 在 1~64 8bit=1 个字节，显示的时候按位来显示</p><p>比如 m=8 表示一个字节 0~255</p><h3 id="日期类型" tabindex="-1">日期类型 <a class="header-anchor" href="#日期类型" aria-label="Permalink to &quot;日期类型&quot;">​</a></h3><p>date [日期 年月日]</p><p>time [时间 时分秒]</p><p>datetime [年月日 时分秒]</p><p>timestamp [时间戳]</p><p>year [年]</p><h3 id="主键" tabindex="-1">主键 <a class="header-anchor" href="#主键" aria-label="Permalink to &quot;主键&quot;">​</a></h3><p>primary key</p><p>复合主键</p><h3 id="unique" tabindex="-1">unique <a class="header-anchor" href="#unique" aria-label="Permalink to &quot;unique&quot;">​</a></h3><p>定义该列值不能重复</p><h3 id="外键" tabindex="-1">外键 <a class="header-anchor" href="#外键" aria-label="Permalink to &quot;外键&quot;">​</a></h3><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FOREIGN KEY</span><span style="color:#A6ACCD;"> (本表字段名) </span><span style="color:#C792EA;">REFERENCES</span><span style="color:#A6ACCD;"> 主表名(主键名或unique字段名)</span></span></code></pre></div><h3 id="check-约束" tabindex="-1">check 约束 <a class="header-anchor" href="#check-约束" aria-label="Permalink to &quot;check 约束&quot;">​</a></h3><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">check</span><span style="color:#A6ACCD;"> 约束条件</span></span></code></pre></div><h3 id="自增长" tabindex="-1">自增长 <a class="header-anchor" href="#自增长" aria-label="Permalink to &quot;自增长&quot;">​</a></h3><p>auto_increment</p><p>如果添加数据时，给自增长字段指定的有值，则以指定的值为准</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> 表名 auto_increment </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> 新的开始值; </span><span style="color:#676E95;font-style:italic;">-- 默认从1开始，可自行设置</span></span></code></pre></div><h3 id="创建索引" tabindex="-1">创建索引 <a class="header-anchor" href="#创建索引" aria-label="Permalink to &quot;创建索引&quot;">​</a></h3><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">INDEX</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">索引名</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> 表名(列名)</span></span></code></pre></div><p>索引本身也会占用空间</p>`,171),p=[e];function t(r,c,C,y,i,A){return l(),a("div",null,p)}const D=s(o,[["render",t]]);export{h as __pageData,D as default};
