import{_ as s,c as a,o as l,Q as e}from"./chunks/framework.8dca3095.js";const m=JSON.parse('{"title":"mysql基础","description":"","frontmatter":{"title":"mysql基础","order":1},"headers":[],"relativePath":"pages/mysql/base.md","lastUpdated":1681724032000}'),n={name:"pages/mysql/base.md"},o=e(`<h2 id="安装-mysql" tabindex="-1">安装 MySQL <a class="header-anchor" href="#安装-mysql" aria-label="Permalink to &quot;安装 MySQL&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">apt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql-server</span></span></code></pre></div><h2 id="卸载-mysql" tabindex="-1">卸载 mysql <a class="header-anchor" href="#卸载-mysql" aria-label="Permalink to &quot;卸载 mysql&quot;">​</a></h2><p>查询 mysql 相关版本及文件，</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">dpkg -l | grep mysql</span></span></code></pre></div><p>卸载相关文件</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt-get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql-common</span></span></code></pre></div><p>进一步卸载</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt-get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">autoremove</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--purge</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql-server-</span><span style="color:#F78C6C;">8.0</span></span></code></pre></div><p>基本能彻底卸载 mysql 了！！！</p><h2 id="mysql-配置" tabindex="-1">MySQL 配置 <a class="header-anchor" href="#mysql-配置" aria-label="Permalink to &quot;MySQL 配置&quot;">​</a></h2><h3 id="配置文件路径" tabindex="-1">配置文件路径 <a class="header-anchor" href="#配置文件路径" aria-label="Permalink to &quot;配置文件路径&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">/etc/mysql/mysql.conf.d/mysqld.cnf</span></span></code></pre></div><p>跳过密码验证，在 mysql 的配置文件中加上</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">skip-grant-tables</span></span></code></pre></div><h3 id="修改密码" tabindex="-1">修改密码 <a class="header-anchor" href="#修改密码" aria-label="Permalink to &quot;修改密码&quot;">​</a></h3><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;123&#39;;</span></span></code></pre></div><p>注意：1.localhost 是 root 对应的 host，也有可能是%。</p><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">select user,host from user; #查看user对应的host</span></span></code></pre></div><p>​ 2.如果报 error 1396，先重置密码为空</p><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">update user set authentication_string=&#39;&#39; where user=&#39;root&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">flush privileges; #刷新</span></span></code></pre></div><p>​ 3.如果报 error 1209,根据提示说明在 skip-grant-tables 模式下无法执行此语句。只需要 flush privileges; 一下再执行</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ERROR</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1290</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">HY000</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">: </span><span style="color:#C3E88D;">The</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MySQL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">running</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--skip-grant-tables</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">option</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">so</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cannot</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">execute</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">this</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">statement</span></span></code></pre></div>`,23),p=[o];function t(c,r,i,y,C,d){return l(),a("div",null,p)}const A=s(n,[["render",t]]);export{m as __pageData,A as default};
